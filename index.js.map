{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst search = document.querySelector('.search_bar');\nconst loader = document.querySelector('.loader');\n\nconst emptyArrayError = 'Sorry, there are no images matching your search query. Please try again!';\n\nconst dispatchEvent = (array) => document.dispatchEvent(new CustomEvent('imagesFetched', {detail: array}));\n\nexport function ImageSearch(source, options) {\n\tlet searchValue = search.value.trim();\n\tif (!searchValue) return;\n\toptions.set('q', searchValue);\n\tloader.style.display = 'block';\n\n\tfetch(`${source}${options}`)\n\t\t.then(response => {\n\t\t\tif (!response.ok) {\n\t\t\t\traiseError(\"Sorry, response is not ok\");\n\t\t\t}\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(posts => {\n\t\t\tif (posts.total) {\n\t\t\t\tdispatchEvent(posts.hits);\n\t\t\t\tconsole.log(posts.hits)\n\t\t\t} else {\n\t\t\t\traiseError(emptyArrayError);\n\t\t\t\tdispatchEvent([]);\n\t\t\t}\n\t\t\tclear();\n\t\t})\n\t\t.catch(error => {\n\t\t\traiseError(error);\n\t\t\tdispatchEvent([]);\n\t\t\tclear();\n\t\t});\n}\n\nfunction raiseError(error) {\n\tiziToast.error({\n\t\tmessage: error,\n\t\tposition: 'topRight',\n\t\tcolor: 'red',\n\t\ttheme: 'dark',\n\t});\n}\n\nfunction clear() {\n\tloader.style.display = 'none';\n\tsearch.value = '';\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst gallery = document.querySelector(\".gallery\");\n\nexport function renderGallery(images) {\n    let galleryHTML = \"\";\n    images.forEach((element) => {\n        galleryHTML += `\n            <li class=\"gallery_item\">\n                <a class=\"gallery_link\" href=\"${element.largeImageURL}\" title=\"${element.tags}\">\n                    <img\n                        class=\"gallery-image\"\n                        src=\"${element.webformatURL}\"\n                        alt=\"${element.tags}\"\n                    />\n                </a>\n                <ul class=\"gallery_info\">\n                    <li><span class=\"bold_text\">Likes</span><p class=\"text\">${element.likes}</p></li>\n                    <li><span class=\"bold_text\">Views</span><p class=\"text\">${element.views}</p></li>\n                    <li><span class=\"bold_text\">Comments</span><p class=\"text\">${element.comments}</p></li>\n                    <li><span class=\"bold_text\">Downloads</span><p class=\"text\">${element.downloads}</p></li>\n                </ul>\n            </li>\n        `;\n    });\n\n    gallery.innerHTML = galleryHTML;\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        nav: true,\n        overlay: true,\n        captions: true,\n        captionSelector: 'self',\n        captionType: 'attr',\n        captionData: 'title',\n        captionPosition: 'bottom',\n        captionDelay: 250\n    });\n    \n    lightbox.refresh();\n}","import { ImageSearch } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js'\n\nconst form = document.querySelector('form');\n\nconst source = 'https://pixabay.com/api/?';\nconst options = new URLSearchParams({\n\tkey: '46749030-b6cef6a6b69e043ecf4444c1b',\n\timage_type: 'photo',\n\torientation: 'horizontal'\n});\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\tImageSearch(source, options);\n});\n\ndocument.addEventListener('imagesFetched', (event) => {\n    renderGallery(event.detail);\n});"],"names":["search","loader","emptyArrayError","dispatchEvent","array","ImageSearch","source","options","searchValue","response","raiseError","posts","clear","error","iziToast","gallery","renderGallery","images","galleryHTML","element","SimpleLightbox","form","event"],"mappings":"iyBAIA,MAAMA,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAkB,2EAElBC,EAAiBC,GAAU,SAAS,cAAc,IAAI,YAAY,gBAAiB,CAAC,OAAQA,CAAK,CAAC,CAAC,EAElG,SAASC,EAAYC,EAAQC,EAAS,CAC5C,IAAIC,EAAcR,EAAO,MAAM,KAAI,EAC9BQ,IACLD,EAAQ,IAAI,IAAKC,CAAW,EAC5BP,EAAO,MAAM,QAAU,QAEvB,MAAM,GAAGK,CAAM,GAAGC,CAAO,EAAE,EACzB,KAAKE,IACAA,EAAS,IACbC,EAAW,2BAA2B,EAEhCD,EAAS,OAChB,EACA,KAAKE,GAAS,CACVA,EAAM,OACTR,EAAcQ,EAAM,IAAI,EACxB,QAAQ,IAAIA,EAAM,IAAI,IAEtBD,EAAWR,CAAe,EAC1BC,EAAc,CAAE,CAAA,GAEjBS,GACH,CAAG,EACA,MAAMC,GAAS,CACfH,EAAWG,CAAK,EAChBV,EAAc,CAAE,CAAA,EAChBS,GACH,CAAG,EACH,CAEA,SAASF,EAAWG,EAAO,CAC1BC,EAAS,MAAM,CACd,QAASD,EACT,SAAU,WACV,MAAO,MACP,MAAO,MACT,CAAE,CACF,CAEA,SAASD,GAAQ,CAChBX,EAAO,MAAM,QAAU,OACvBD,EAAO,MAAQ,EAChB,CCjDA,MAAMe,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAcC,EAAQ,CAClC,IAAIC,EAAc,GAClBD,EAAO,QAASE,GAAY,CACxBD,GAAe;AAAA;AAAA,gDAEyBC,EAAQ,aAAa,YAAYA,EAAQ,IAAI;AAAA;AAAA;AAAA,+BAG9DA,EAAQ,YAAY;AAAA,+BACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,8EAImCA,EAAQ,KAAK;AAAA,8EACbA,EAAQ,KAAK;AAAA,iFACVA,EAAQ,QAAQ;AAAA,kFACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,SAInG,CAAK,EAEDJ,EAAQ,UAAYG,EAEH,IAAIE,EAAe,aAAc,CAC9C,IAAK,GACL,QAAS,GACT,SAAU,GACV,gBAAiB,OACjB,YAAa,OACb,YAAa,QACb,gBAAiB,SACjB,aAAc,GACtB,CAAK,EAEQ,QAAO,CACpB,CCvCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EAEpCf,EAAS,4BACTC,EAAU,IAAI,gBAAgB,CACnC,IAAK,qCACL,WAAY,QACZ,YAAa,YACd,CAAC,EAEDc,EAAK,iBAAiB,SAAWC,GAAU,CACvCA,EAAM,eAAc,EACvBjB,EAAYC,EAAQC,CAAO,CAC5B,CAAC,EAED,SAAS,iBAAiB,gBAAkBe,GAAU,CAClDN,EAAcM,EAAM,MAAM,CAC9B,CAAC"}